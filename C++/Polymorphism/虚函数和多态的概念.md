 # 虚函数和多态的概念

 **虚函数：**

&nbsp;&nbsp;&nbsp;&nbsp; (1)在类的定义中，前面有virtual关键字的成员函数就是虚函数。
```
class base{
virtual int get();
};
```
&nbsp;&nbsp;&nbsp;&nbsp; (2)virtual关键字只用在类定义里的虚函数声明中，函数体实现时不写。

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int base::get(){}

&nbsp;&nbsp;&nbsp;&nbsp; (3)构造函数和静态成员函数不能时虚函数。

**虚函数的作用：**

&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; **主要是为了能够实现多态而设计的**


**多态：**

&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; **表现形式一：**

&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; **派生类的指针可以赋给基类指针。** 

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**通过基类指针调用基类派生类中的同名虚函数时：**

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（1）**若该指针指向一个基类的对象，那么被调用的是基类的虚函数。**

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（2）**若该指针指向一个派生类的对象，那么被调用的是派生类的虚函数。** 

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这种机制就是“多态” 


**表现形式二：**

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**派生类的对象可以赋给基类引用。**

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**通过基类引用调用基类和派生类的中的同名虚函数时：**

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（1）**若该引用引用的是一个基类的对象，那么被调用的是基类的虚函数。**

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;（2）**若该引用引用的是一个派生类的对象，那么被调用的是派生类的虚函数。**

**多态的作用:**

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**在面向对象的程序设计中使用多态，能够增强程序的可扩充性，即程序需要修改或者增加功能的时候，需要改动和增加的代码较少。**

**Example:**
```
 class CBase {
    public:
       virtual void VirtualFunction() { cout << "CBase virtual function" << endl; }
    };

class CDerived:public CBase {
    public:
       virtual void VritualFunction() { cout << "CDerived virtual function" << endl; }
};

 int main()
{

   CDerived ODerived;
   CBase* p = &ODerived;
    p->VirtualFunction();
   return 0;
}
```
**Result:**

CBase virtual function